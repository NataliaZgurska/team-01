{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Напиши функціонал додавання задач в список, при сабміті форми задача повинна додаватись в дом дерево, та сховище.\n// При перезавантаженні сторінки, список повинен відображатись одразу\n// Реалізувати функціонал видалення елементів зі списку при натисканні на кнопку видалити\nimport { nanoid } from 'nanoid';\n\nconst TASKS_KEY = 'TASKS_KEY';\n\nconst form = document.querySelector('#task-form');\nconst list = document.querySelector('#task-list');\n\nform.addEventListener('submit', onBtnSubmit);\nlist.addEventListener('click', removeItem);\n\nrestoreData();\n\nfunction onBtnSubmit(e) {\n  e.preventDefault();\n  const inputEl = e.target.taskName.value;\n  addSingleTask(inputEl);\n  e.target.reset();\n}\n\nfunction addSingleTask(value) {\n  const arrItem = infoItemLocalStorage(TASKS_KEY) || [];\n  const ID = nanoid();\n  const item = document.createElement('li');\n  const button = document.createElement('button');\n  button.textContent = ' X';\n  item.textContent = value;\n  item.appendChild(button);\n  button.setAttribute('type', 'button');\n  list.append(item);\n  item.setAttribute('id', `${ID}`);\n  arrItem.push({ ID, value });\n  addItemLocalStorage(TASKS_KEY, arrItem);\n}\n\nfunction addItemLocalStorage(key, item) {\n  localStorage.setItem(key, JSON.stringify(item));\n}\n\nfunction infoItemLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nfunction restoreData() {\n  const data = infoItemLocalStorage(TASKS_KEY);\n  if (!data) return;\n  const dataLi = data\n    .map(\n      elem =>\n        `<li id = \"${elem.ID}\">${elem.value} <button type = \"button\">X</button></li>`\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', dataLi);\n}\n\nfunction removeItem(event) {\n  if (event.target.nodeName === 'BUTTON') {\n    const idItem = event.target.parentNode.getAttribute('id');\n    event.target.parentNode.remove();\n    const dataArr = infoItemLocalStorage(TASKS_KEY);\n    const newArr = dataArr.filter(item => item.ID !== idItem);\n    addItemLocalStorage(TASKS_KEY, newArr);\n  }\n}\n"],"names":["TASKS_KEY","form","list","onBtnSubmit","removeItem","restoreData","inputEl","addSingleTask","value","arrItem","infoItemLocalStorage","ID","nanoid","item","button","addItemLocalStorage","key","data","dataLi","elem","event","idItem","newArr"],"mappings":"svBAKA,MAAMA,EAAY,YAEZC,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAO,SAAS,cAAc,YAAY,EAEhDD,EAAK,iBAAiB,SAAUE,CAAW,EAC3CD,EAAK,iBAAiB,QAASE,CAAU,EAEzCC,IAEA,SAASF,EAAY,EAAG,CACtB,EAAE,eAAc,EAChB,MAAMG,EAAU,EAAE,OAAO,SAAS,MAClCC,EAAcD,CAAO,EACrB,EAAE,OAAO,OACX,CAEA,SAASC,EAAcC,EAAO,CAC5B,MAAMC,EAAUC,EAAqBV,CAAS,GAAK,CAAA,EAC7CW,EAAKC,IACLC,EAAO,SAAS,cAAc,IAAI,EAClCC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,YAAc,KACrBD,EAAK,YAAcL,EACnBK,EAAK,YAAYC,CAAM,EACvBA,EAAO,aAAa,OAAQ,QAAQ,EACpCZ,EAAK,OAAOW,CAAI,EAChBA,EAAK,aAAa,KAAM,GAAGF,GAAI,EAC/BF,EAAQ,KAAK,CAAE,GAAAE,EAAI,MAAAH,CAAO,CAAA,EAC1BO,EAAoBf,EAAWS,CAAO,CACxC,CAEA,SAASM,EAAoBC,EAAKH,EAAM,CACtC,aAAa,QAAQG,EAAK,KAAK,UAAUH,CAAI,CAAC,CAChD,CAEA,SAASH,EAAqBM,EAAK,CACjC,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC7C,CAEA,SAASX,GAAc,CACrB,MAAMY,EAAOP,EAAqBV,CAAS,EAC3C,GAAI,CAACiB,EAAM,OACX,MAAMC,EAASD,EACZ,IACCE,GACE,aAAaA,EAAK,OAAOA,EAAK,+CACjC,EACA,KAAK,EAAE,EACVjB,EAAK,mBAAmB,YAAagB,CAAM,CAC7C,CAEA,SAASd,EAAWgB,EAAO,CACzB,GAAIA,EAAM,OAAO,WAAa,SAAU,CACtC,MAAMC,EAASD,EAAM,OAAO,WAAW,aAAa,IAAI,EACxDA,EAAM,OAAO,WAAW,SAExB,MAAME,EADUZ,EAAqBV,CAAS,EACvB,OAAOa,GAAQA,EAAK,KAAOQ,CAAM,EACxDN,EAAoBf,EAAWsB,CAAM,CACtC,CACH"}