{"version":3,"file":"commonHelpers.js","sources":["../src/js/storage.js","../src/js/refs.js","../src/js/removeItem.js","../src/main.js"],"sourcesContent":["export function addItemLocalStorage(key, item) {\n  localStorage.setItem(key, JSON.stringify(item));\n}\n\nexport function infoItemLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}","export default {\n    form: document.querySelector('#task-form'),\n    list: document.querySelector('#task-list')\n    }\n\n","import refs from \"./refs\";\nimport {TASKS_KEY} from '../main';\nimport { addItemLocalStorage, infoItemLocalStorage } from './storage';\n\nrefs.list.addEventListener('click', removeItem);\n\nfunction removeItem(event) {\n    if (event.target.nodeName === 'BUTTON') {\n      const idItem = event.target.parentNode.getAttribute('id');\n      event.target.parentNode.remove();\n      const dataArr = infoItemLocalStorage(TASKS_KEY);\n      const newArr = dataArr.filter(item => item.ID !== idItem);\n      addItemLocalStorage(TASKS_KEY, newArr);\n    }\n  }","// Напиши функціонал додавання задач в список, при сабміті форми задача повинна додаватись в дом дерево, та сховище.\n// При перезавантаженні сторінки, список повинен відображатись одразу\n// Реалізувати функціонал видалення елементів зі списку при натисканні на кнопку видалити\n\nimport { nanoid } from 'nanoid';\nimport { addItemLocalStorage, infoItemLocalStorage } from './js/storage'\nimport refs from './js/refs';\nimport './js/removeItem';\n\n\nconst { form, list } = refs;\nexport const TASKS_KEY = 'TASKS_KEY';\n\n\nform.addEventListener('submit', onBtnSubmit);\n\n\nrestoreData();\n\nfunction onBtnSubmit(e) {\n  e.preventDefault();\n  const inputEl = e.target.taskName.value;\n  addSingleTask(inputEl);\n  e.target.reset();\n}\n\nfunction addSingleTask(value) {\n  const arrItem = infoItemLocalStorage(TASKS_KEY) || [];\n  const ID = nanoid();\n  const item = document.createElement('li');\n  const button = document.createElement('button');\n  button.textContent = 'X';\n  item.textContent = value;\n  item.appendChild(button);\n  button.setAttribute('type', 'button');\n  console.log('rfkzkf');\n  list.append(item);\n  item.setAttribute('id', `${ID}`);\n  arrItem.push({ ID, value });\n  addItemLocalStorage(TASKS_KEY, arrItem);\n}\n\n\n\nfunction restoreData() {\n  const data = infoItemLocalStorage(TASKS_KEY);\n  if (!data) return;\n  const dataLi = data\n    .map(\n      elem =>\n        `<li id = \"${elem.ID}\">${elem.value} <button type = \"button\">X</button></li>`\n    )\n    .join('');\n  list.insertAdjacentHTML('beforeend', dataLi);\n}\n\n"],"names":["addItemLocalStorage","key","item","infoItemLocalStorage","refs","removeItem","event","idItem","newArr","TASKS_KEY","form","list","onBtnSubmit","restoreData","inputEl","addSingleTask","value","arrItem","ID","nanoid","button","data","dataLi","elem"],"mappings":"svBAAO,SAASA,EAAoBC,EAAKC,EAAM,CAC7C,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CAEO,SAASC,EAAqBF,EAAK,CACxC,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC7C,CCNA,MAAeG,EAAA,CACX,KAAM,SAAS,cAAc,YAAY,EACzC,KAAM,SAAS,cAAc,YAAY,CAC7C,ECCAA,EAAK,KAAK,iBAAiB,QAASC,CAAU,EAE9C,SAASA,EAAWC,EAAO,CACvB,GAAIA,EAAM,OAAO,WAAa,SAAU,CACtC,MAAMC,EAASD,EAAM,OAAO,WAAW,aAAa,IAAI,EACxDA,EAAM,OAAO,WAAW,SAExB,MAAME,EADUL,EAAqBM,CAAS,EACvB,OAAOP,GAAQA,EAAK,KAAOK,CAAM,EACxDP,EAAoBS,EAAWD,CAAM,CACtC,CACL,CCJA,KAAM,CAAE,KAAAE,EAAM,KAAAC,CAAM,EAAGP,EACVK,EAAY,YAGzBC,EAAK,iBAAiB,SAAUE,CAAW,EAG3CC,IAEA,SAASD,EAAY,EAAG,CACtB,EAAE,eAAc,EAChB,MAAME,EAAU,EAAE,OAAO,SAAS,MAClCC,EAAcD,CAAO,EACrB,EAAE,OAAO,OACX,CAEA,SAASC,EAAcC,EAAO,CAC5B,MAAMC,EAAUd,EAAqBM,CAAS,GAAK,CAAA,EAC7CS,EAAKC,IACLjB,EAAO,SAAS,cAAc,IAAI,EAClCkB,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,YAAc,IACrBlB,EAAK,YAAcc,EACnBd,EAAK,YAAYkB,CAAM,EACvBA,EAAO,aAAa,OAAQ,QAAQ,EACpC,QAAQ,IAAI,QAAQ,EACpBT,EAAK,OAAOT,CAAI,EAChBA,EAAK,aAAa,KAAM,GAAGgB,GAAI,EAC/BD,EAAQ,KAAK,CAAE,GAAAC,EAAI,MAAAF,CAAO,CAAA,EAC1BhB,EAAoBS,EAAWQ,CAAO,CACxC,CAIA,SAASJ,GAAc,CACrB,MAAMQ,EAAOlB,EAAqBM,CAAS,EAC3C,GAAI,CAACY,EAAM,OACX,MAAMC,EAASD,EACZ,IACCE,GACE,aAAaA,EAAK,OAAOA,EAAK,+CACjC,EACA,KAAK,EAAE,EACVZ,EAAK,mBAAmB,YAAaW,CAAM,CAC7C"}